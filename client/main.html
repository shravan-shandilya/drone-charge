<head>
  <title>drone-charge</title>
</head>

<body>
  {{#if currentUser}}
  {{> dashboard}}
  {{else}}
  <div class="container">
    <div class="page-header">
      <h2>drone-charge</h2>
    </div>
    <div class="row">
      <ul class="nav nav-tabs \">
        <li class="nav-item">
          <a href="#register" class="nav-link active" role="tab" data-toggle="tab">Register</a>
        </li>   
        <li class="nav-item">
          <a href="#login" lass="nav-link" role="tab" data-toggle="tab">Login</a>
        </li>
      </ul>
    </div>

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="register">
        {{> register}}
      </div>
      <div role="tabpanel" class="tab-pane " id="login">
        {{> login}}
      </div>
    </div>
  </div>
  {{/if}}
</body>

<template name="register">
  <form class="register">
    <div id="alert" class="alert alert-success" style="display:none;" role="alert">Welcome</div>
    <p><input type="text" placeholder="email" id="email"></p>
    <p><input type="password" placeholder="password" id="password"></p>
    <div class="form-group">
      <select class="form-control" id="type">
        <option value="Drone">Drone</option>
        <option value="Pod">Pod</option>
      </select>
    </div>
    <input type="submit" class="btn btn-default" value="Register">
  </form>
</template>

<template name="login">
  <form class="login">
    <div id="alert" class="alert alert-success" style="display:none;" role="alert">Welcome</div>
    <p><input type="text" placeholder="email" id="login_email"></p>
    <p><input type="password" placeholder="password" id="login_password"></p>
    <p><input type="submit" class="btn btn-default" value="login"></p>
  </form>
</template>

<template name="dashboard">
  <div class="container">
    <div class="page-header">
      <h2>drone-charge</h2>
    </div>
    <div class="row">
      <ul class="nav nav-tabs \">
        <li class="nav-item">
          <a href="#addthing" class="nav-link active" role="tab" data-toggle="tab">Add</a>
        </li>
        <li class="nav-item">
          <a href="#table" class="nav-link active" role="tab" data-toggle="tab">{{currentUser.profile.type}}s</a>
        </li>   
        <li class="nav-item">
          <a href="#map" lass="nav-link" role="tab" data-toggle="tab">Map</a>
        </li>
        <li class="nav-item">
          <a href="#" class="logout">Logout</a>
        </li>
      </ul>
    </div>

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="addthing">
        {{> addthing}}
      </div>
      <div role="tabpanel" class="tab-pane" id="table">
        {{> table}}
      </div>
      <div role="tabpanel" class="tab-pane" id="map">
        {{> map}}
      </div>
    </div>
  </div>

</template>

<template name="addthing">
  <div id="addthing">
    <div id="alert" class="alert alert-success" 
    style="display:none;" role="alert">Added entry.Check in {{currentUser.profile.type}}s </div>
    <form>
      <input type="name" id="name">
      <input type="key" id="key">
      <input type="submit" value="Add">
    </form>
  </div>
</template>

<template name="table">
  <div class="container">
  <div id="alert_table" class="alert alert-success" 
      style="display:none;" role="alert">
    Added entry.Check in {{currentUser.profile.type}}s 
  </div>
    {{#if vals.data}}
    <table class="table table-striped">
      <thead class="thead-inverse">
        <tr>
          <th>{{vals.col_name2}}</th>
          <th>{{vals.col_name3}}</th>
        </tr>
      </thead>
      <tbody> 
        {{#each val in vals.data}}
        <tr>
          <td>{{val.namething}}</td>
          <td>{{val.keything}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{/if}}
  </div>
</template>

<template name="map">
  Not implemented
</template>
